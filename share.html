<style>
body {
  background:#000;
  color:white;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  padding:16px;
}

#sharedChat {
  max-width: 820px;
  margin:auto;
}

.user {
  background:#0c111b;
  border:1px solid #2c2f36;
  padding:12px 14px;
  border-radius:12px;
  margin-bottom:12px;
  font-size:15px;
}

.leocore {
  background:linear-gradient(145deg, rgba(0,240,160,0.18), rgba(0,180,255,0.16));
  border:1px solid rgba(0,255,204,0.5);
  padding:12px 14px;
  border-radius:12px;
  margin-bottom:12px;
  font-size:15px;
}
</style>


<h2 style="text-align:center;margin-bottom:20px;color:#66ffee">
  Shared LeoCore Conversation
</h2>

<div id="sharedChat"></div>


<script>
(async () => {
  const params = new URLSearchParams(window.location.search);
  let id = params.get("id");

  if (!id) {
    const parts = window.location.pathname.split("/");
    id = parts.pop() || parts.pop();
  }

  if (!id) {
    document.getElementById("sharedChat").innerText = "No share ID provided ðŸ˜­";
    return;
  }

  const res = await fetch(`https://leocore.onrender.com/api/share/${id}`);

  if (!res.ok) {
    document.getElementById("sharedChat").innerText = "Chat not found ðŸ’€";
    return;
  }

  const chat = await res.json();
  const box = document.getElementById("sharedChat");

  chat.forEach(m => {
    const div = document.createElement("div");
    div.className = m.role === "user" ? "user" : "leocore";
    div.textContent = m.content || "";
    box.appendChild(div);
  });
})();
</script>